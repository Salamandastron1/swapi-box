(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/2048.05b82421.svg"},34:function(e,t,a){e.exports=a.p+"static/media/mil-falc.6e0d896c.svg"},35:function(e,t,a){e.exports=a.p+"static/media/death-star.d9b2065f.svg"},36:function(e,t,a){e.exports=a(78)},41:function(e,t,a){},45:function(e,t,a){},48:function(e,t,a){},52:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(31),s=a.n(c),o=(a(41),a(11)),i=a(2),l=a.n(i),u=a(9),f=a(10),p=a(5),m=a(15),v=a(16),d=a(20),h=a(17),b=a(21),E=(a(45),a(48),a(81)),O=function(e){var t=e.buttonHasBeenPressed,a=e.directory,r=e.selected;return n.a.createElement("section",{className:"button-container"},n.a.createElement(E.a,{to:"/favorites",onClick:function(){return t(null,"favorites")},className:"".concat(r.favorites?"selected":null," favorites-btn button")},n.a.createElement("i",{className:"fab fa-trade-federation"}),"Favorites ".concat(a.favorites.length)),n.a.createElement(E.a,{to:"/people",onClick:function(){return t(a.people,"people")},className:"".concat(r.people?"selected":null," people-btn button")},n.a.createElement("i",{className:"fab fa-jedi-order"}),"People"),n.a.createElement(E.a,{to:"/planets",onClick:function(){return t(a.planets,"planets")},className:"".concat(r.planets?"selected":null," planets-btn button")},n.a.createElement("i",{className:"fab fa-empire"}),"Planets"),n.a.createElement(E.a,{to:"/vehicles",onClick:function(){return t(a.vehicles,"vehicles")},className:"".concat(r.vehicles?"selected":null," vehicles-btn button")},n.a.createElement("i",{className:"fab fa-galactic-republic"}),"Vehicles"))},y=(a(52),a(33)),x=a.n(y),g=(a(72),a(74),a(76),a(34)),k=a.n(g),w=a(35),j=a.n(w),N=function(e){var t=e.properties.map(function(e,t){return n.a.createElement("div",{key:e+t},e)});return n.a.createElement("div",{className:"card"},n.a.createElement("button",{onClick:function(){return e.favoriteACard(e.id)},className:e.favorited?"favorited":"null"},n.a.createElement("img",{src:e.favorited?j.a:k.a,className:"mil-falc"}),n.a.createElement("h3",null,"Favorite")),n.a.createElement("h3",null,e.name),t,n.a.createElement("div",null))},C=a(79),B=a(18),W=a.n(B),D=function(e){var t=e.starWarsDirectory,a=(e.stateOfButtons,e.favoriteACard),r=(e.favorited,e.category),c=[];return"object"===typeof t&&(c=t.map(function(e,t){return n.a.createElement(C.a,{exact:!0,path:"/".concat(r),render:function(){return n.a.createElement(N,{key:t+[r],name:e.name,properties:e.properties,favoriteACard:a,id:e.id,favorited:e.favorited})}})})),c.length<=0&&"favorites"===r?n.a.createElement("section",{className:"".concat(c.length<=0?"no-favs-container":"","card-container")},c.length<=0?n.a.createElement("div",{className:"no-favs"},"NoFavs"):c):n.a.createElement("section",{className:"".concat(c.length<=0?"load":"","card-container")},c.length<=0?n.a.createElement("img",{className:"load-image",src:W.a}):c)},S=function(e){var t=e.movieScroll,a=e.starWarsDirectory,r=e.stateOfButtons,c=e.favoriteACard,s=t[Math.floor(Math.random()*Math.floor(6))];return n.a.createElement("section",{className:"scroll-container"},n.a.createElement(C.a,{path:"/favorites",render:function(){return n.a.createElement(D,{starWarsDirectory:a.favorites,stateOfButtons:r,favoriteACard:c,category:"favorites"})}}),n.a.createElement(C.a,{path:"/people",render:function(){return n.a.createElement(D,{starWarsDirectory:a.people,stateOfButtons:r,favoriteACard:c,category:"people"})}}),n.a.createElement(C.a,{path:"/planets",render:function(){return n.a.createElement(D,{starWarsDirectory:a.planets,stateOfButtons:r,favoriteACard:c,category:"planets"})}}),n.a.createElement(C.a,{path:"/vehicles",render:function(){return n.a.createElement(D,{starWarsDirectory:a.vehicles,stateOfButtons:r,favoriteACard:c,category:"vehicles"})}}),n.a.createElement(x.a,null,n.a.createElement("p",null,s.opening_crawl),n.a.createElement("h3",null,s.title),n.a.createElement("h4",null,s.release_date)))},P=function(){var e=Object(p.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||"https://swapi.co/api/");case 2:if(a=e.sent,e.prev=3,!(a.status>=400)){e.next=8;break}throw new Error("fetch recieved an invalid response");case 8:return e.next=10,a.json();case 10:return e.abrupt("return",e.sent);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(3),Error("Problem with fetch");case 16:case"end":return e.stop()}},e,this,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(p.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return a=e.sent,r=a.results.map(function(){var e=Object(p.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.species);case 2:return a=e.sent,e.next=5,P(t.homeworld);case 5:return r=e.sent,e.abrupt("return",Object(f.a)({species:a,properName:t.name},r));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return a=e.sent,r=a.results.map(function(){var e=Object(p.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.residents.map(function(){var e=Object(p.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,r={name:t.name,population:t.population,climate:t.climate,terrain:t.terrain,residents:a},e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(l.a.mark(function e(t){var a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return a=e.sent,r=a.results.map(function(e,t){return{name:e.name,id:t+"vehicles",favorited:!1,properties:["Model: ".concat(e.model),"Class: ".concat(e.vehicle_class),"# Of Passengers: ".concat(e.passengers)]}}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),H=function(e){return e.map(function(e,t){return{name:e.name,id:t+"planets",favorited:!1,properties:["Terrain: ".concat(e.terrain),"Population: ".concat(e.population),"Climate: ".concat(e.climate),"Residents: ".concat(e.residents.map(function(e){return e.name}))]}})},I=function(e){return e.map(function(e,t){return{name:e.properName,id:t+"people",favorited:!1,properties:["Planet: ".concat(e.name),"Population: ".concat(e.population),"Species: ".concat(e.species.name)]}})},J=function(e,t){localStorage.setItem(e,JSON.stringify(t))},L=function(e){var t=localStorage.getItem(e);return"string"===typeof t?JSON.parse(t):null},V=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={hasError:!1},e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",null,"Ya gots an error"):this.props.children}}]),t}(r.Component),_=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).buttonHasBeenPressed=function(){var t=Object(p.a)(l.a.mark(function t(a,r){var n,c,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!L(r)){t.next=4;break}n=L(r),t.next=28;break;case 4:if("favorites"!==r){t.next=8;break}n=e.state.starWarsDirectory.favorites,t.next=28;break;case 8:if("people"!==r){t.next=15;break}return t.next=11,A(a);case 11:c=t.sent,n=I(c),t.next=28;break;case 15:if("planets"!==r){t.next=24;break}return t.next=18,F(a);case 18:return s=t.sent,t.next=21,H(s);case 21:n=t.sent,t.next=28;break;case 24:if("vehicles"!==r){t.next=28;break}return t.next=27,M(a);case 27:n=t.sent;case 28:J(r,n),e.setState({stateOfButtons:e.changeButtonValues(r),starWarsDirectory:Object(f.a)({},e.state.starWarsDirectory,Object(u.a)({},r,n))});case 30:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),e.changeButtonValues=function(t){var a={};return Object.keys(e.state.stateOfButtons).forEach(function(e){a[e]=e===t}),a},e.favoriteACard=function(t){var a,r,n=Object(o.a)(t).splice(1,10).join(""),c=e.state.starWarsDirectory,s=e.filterFavorties(c.favorites,t),i=e.filterFavorties(c[n],t),l=e.filterFavorties(c[n],t,!0);r=c.favorites.length!==s.length?s:Object(o.a)(l).concat(Object(o.a)(c.favorites));var p=Object(o.a)(l).concat(Object(o.a)(i));J("favorites",r),J([n],p),e.setState({starWarsDirectory:Object(f.a)({},e.state.starWarsDirectory,(a={},Object(u.a)(a,n,p),Object(u.a)(a,"favorites",r),a))})},e.filterFavorties=function(e,t){if(!0===(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){var a=e.filter(function(e){return e.id===t});return a[0].favorited=!a[0].favorited,a}return e.filter(function(e){return e.id!==t})},e.state={starWarsDirectory:{people:{},planets:{},vehicles:{},favorites:[]},movieScroll:[],isLoaded:!1,stateOfButtons:{favorites:!1,vehicles:!1,planets:!1,people:!1}},e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark(function e(){var t,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(a=e.sent,!L("movieScroll")){e.next=7;break}t=L("movieScroll"),e.next=12;break;case 7:return e.next=9,P(a.films);case 9:r=e.sent,t=r.results,J("movieScroll",t);case 12:this.setState({starWarsDirectory:Object(f.a)({},this.state.starWarsDirectory,a),movieScroll:t,isLoaded:!0});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movieScroll,a=e.isLoaded,r=e.starWarsDirectory,c=e.stateOfButtons;return a?n.a.createElement(V,null,n.a.createElement("div",{className:"App"},n.a.createElement("section",{className:"content"},n.a.createElement(O,{buttonHasBeenPressed:this.buttonHasBeenPressed,directory:r,selected:c})),n.a.createElement("header",null,n.a.createElement("h1",{className:"title"},"SWAPI BOX"),n.a.createElement(S,{movieScroll:t,starWarsDirectory:r,stateOfButtons:c,favoriteACard:this.favoriteACard})))):n.a.createElement("div",{className:"load"},n.a.createElement("img",{className:"load-image",src:W.a}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(80),T=n.a.createElement(R.a,null,n.a.createElement(_,null));s.a.render(T,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.47657861.chunk.js.map